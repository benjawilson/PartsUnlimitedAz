# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: ubuntu-latest

steps:
- bash: |
    export GITHUB_TOKEN='$(GH_SECRET)'
    gh auth login
    gh auth status
  displayName: 'Authenticate GitHub Credentials'

- bash: |
    git clone https://github.com/benjawilson/PartsUnlimited
    git status
  displayName: 'Clone GitHub Repo'
  
- bash: |
    cp -f container:/home/vsts/work/1/s PartsUnlimited/
  displayName: 'Force Copy Azure DevOps Files to GitHub Repo'

- bash: |
    git commit -m ""
    git --set-remote ...
    git push origin master
  displayName: 'Push commit to GitHub'